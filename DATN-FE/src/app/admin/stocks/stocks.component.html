<div class="container mt-4">
  <h2>Quản lý Hàng tồn kho</h2>

  <!-- Add/Edit Form -->
  <div *ngIf="showForm" class="card my-4">
    <div class="card-body">
      <h5 class="card-title">{{ selectedStock.id ? 'Chỉnh sửa Hàng tồn kho' : 'Thêm Hàng tồn kho mới' }}</h5>
      <form (ngSubmit)="saveStock()">
        <div class="mb-3">
          <label for="stockName" class="form-label">Tên sản phẩm</label>
          <input type="text" class="form-control" id="stockName" [(ngModel)]="selectedStock.name" name="name" required>
        </div>
        <div class="mb-3">
          <label for="stockQuantity" class="form-label">Số lượng</label>
          <input type="number" class="form-control" id="stockQuantity" [(ngModel)]="selectedStock.quantity" name="quantity" required>
        </div>
        <button type="submit" class="btn btn-primary me-2">Lưu</button>
        <button type="button" class="btn btn-secondary" (click)="resetForm()">Hủy</button>
      </form>
    </div>
  </div>

  <!-- Add Button -->
  <button *ngIf="!showForm" class="btn btn-success mb-3" (click)="showAddForm()">Thêm Hàng tồn kho</button>

  <!-- Stocks Table -->
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Tên sản phẩm</th>
        <th scope="col">Số lượng</th>
        <th scope="col">Hành động</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let stock of stocks">
        <th scope="row">{{ stock.id }}</th>
        <td>{{ stock.name }}</td>
        <td>{{ stock.quantity }}</td>
        <td>
          <button class="btn btn-sm btn-warning me-2" (click)="selectStock(stock)">Sửa</button>
          <button class="btn btn-sm btn-danger" (click)="deleteStock(stock.id)">Xóa</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
