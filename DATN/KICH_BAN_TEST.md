# Kịch Bản Kiểm Thử (Test Cases)

Dưới đây là các kịch bản kiểm thử cho các chức năng chính của website bán giày dép.

| **Chức năng** | **ID** | **Kịch bản Test** | **Dữ liệu đầu vào** | **Các bước thực hiện** | **Kết quả mong đợi** | **Loại Test** |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **1. Quản lý Tài khoản** | **TC_AUTH_01** | Đăng ký tài khoản thành công | Dữ liệu hợp lệ: Tên, email chưa tồn tại, mật khẩu mạnh. | 1. Vào trang Đăng ký. 2. Điền đầy đủ thông tin hợp lệ. 3. Nhấn nút "Đăng ký". | Hệ thống tạo tài khoản mới thành công, gửi email xác nhận và chuyển hướng đến trang đăng nhập. | Positive |
| | **TC_AUTH_02** | Đăng ký với email đã tồn tại | Email đã được sử dụng. | 1. Vào trang Đăng ký. 2. Điền thông tin với email đã tồn tại. 3. Nhấn nút "Đăng ký". | Hiển thị thông báo lỗi "Email đã tồn tại". | Negative |
| | **TC_AUTH_03** | Đăng nhập thành công | Email và mật khẩu đúng. | 1. Vào trang Đăng nhập. 2. Nhập email và mật khẩu chính xác. 3. Nhấn nút "Đăng nhập". | Đăng nhập thành công, hệ thống tạo JWT và chuyển hướng người dùng đến trang chủ (hoặc trang trước đó). | Positive |
| | **TC_AUTH_04** | Đăng nhập thất bại (sai mật khẩu) | Email đúng, mật khẩu sai. | 1. Vào trang Đăng nhập. 2. Nhập email đúng và mật khẩu sai. 3. Nhấn nút "Đăng nhập". | Hiển thị thông báo lỗi "Thông tin đăng nhập không chính xác". | Negative |
| | **TC_AUTH_05** | Cập nhật thông tin cá nhân | Tên, số điện thoại, địa chỉ mới. | 1. Đăng nhập vào tài khoản. 2. Vào trang "Thông tin cá nhân". 3. Chỉnh sửa thông tin. 4. Nhấn "Lưu". | Thông tin người dùng được cập nhật thành công trong cơ sở dữ liệu. | Positive |
| **2. Quản lý Sản phẩm** | **TC_PROD_01** | Xem danh sách sản phẩm | Không cần | 1. Truy cập trang chủ hoặc trang sản phẩm. | Hiển thị danh sách sản phẩm với hình ảnh, tên, giá. | Positive |
| | **TC_PROD_02** | Tìm kiếm sản phẩm theo tên | Tên sản phẩm: "Giày ABC" | 1. Nhập "Giày ABC" vào ô tìm kiếm. 2. Nhấn Enter hoặc nút tìm kiếm. | Hiển thị các sản phẩm có tên chứa "Giày ABC". | Positive |
| | **TC_PROD_03** | Lọc sản phẩm theo danh mục và giá | Danh mục: "Giày thể thao", Giá: "500.000đ - 1.000.000đ" | 1. Chọn danh mục "Giày thể thao". 2. Kéo thanh trượt giá đến khoảng "500.000đ - 1.000.000đ". | Hiển thị các sản phẩm thuộc danh mục "Giày thể thao" và có giá trong khoảng đã chọn. | Positive |
| | **TC_PROD_04** | Xem chi tiết sản phẩm | Click vào một sản phẩm bất kỳ. | 1. Từ danh sách sản phẩm, click vào một sản phẩm. | Hiển thị trang chi tiết với đầy đủ thông tin: nhiều hình ảnh, mô tả, các tùy chọn màu sắc, size, và số lượng tồn kho. | Positive |
| **3. Giỏ hàng & Đặt hàng**| **TC_CART_01** | Thêm sản phẩm vào giỏ hàng (chưa đăng nhập) | Chọn sản phẩm, size, màu, số lượng = 1. | 1. Chọn một sản phẩm. 2. Nhấn nút "Thêm vào giỏ". | Hệ thống yêu cầu người dùng đăng nhập/đăng ký. | Negative |
| | **TC_CART_02** | Thêm sản phẩm vào giỏ hàng (đã đăng nhập) | Chọn sản phẩm, size, màu, số lượng = 1. | 1. Đăng nhập. 2. Chọn một sản phẩm. 3. Nhấn nút "Thêm vào giỏ". | Sản phẩm được thêm vào giỏ hàng thành công. Icon giỏ hàng cập nhật số lượng. | Positive |
| | **TC_ORDER_01** | Đặt hàng với số lượng < 10 sản phẩm | Giỏ hàng có 5 sản phẩm. | 1. Vào trang giỏ hàng. 2. Nhấn "Tiến hành thanh toán". 3. Điền thông tin giao hàng. 4. Chọn phương thức thanh toán (không cọc). | Tạo đơn hàng thành công, không yêu cầu đặt cọc. | Positive |
| | **TC_ORDER_02** | Đặt hàng với số lượng >= 10 sản phẩm (Yêu cầu cọc) | Giỏ hàng có 12 sản phẩm. | 1. Vào trang giỏ hàng. 2. Nhấn "Tiến hành thanh toán". | Hệ thống hiển thị thông báo yêu cầu cọc 50% giá trị đơn hàng và số tiền cần cọc. | Edge Case |
| | **TC_ORDER_03** | Đặt hàng với sản phẩm hết hàng | Giỏ hàng chứa sản phẩm vừa hết hàng. | 1. Thêm sản phẩm A vào giỏ. 2. Admin cập nhật sản phẩm A hết hàng. 3. Người dùng tiến hành thanh toán. | Hiển thị thông báo lỗi "Sản phẩm [Tên SP] đã hết hàng, vui lòng xóa khỏi giỏ hàng". | Negative |
| **4. Thanh toán (VNPAY)** | **TC_PAY_01** | Thanh toán toàn bộ đơn hàng qua VNPAY | Đơn hàng < 10 sản phẩm. | 1. Tại bước thanh toán, chọn VNPAY. 2. Nhấn "Thanh toán". | Chuyển hướng đến cổng thanh toán VNPAY với đúng thông tin và số tiền. | Positive |
| | **TC_PAY_02** | Thanh toán tiền cọc qua VNPAY | Đơn hàng >= 10 sản phẩm. | 1. Tại bước thanh toán, chọn VNPAY để cọc. 2. Nhấn "Thanh toán". | Chuyển hướng đến cổng VNPAY với số tiền bằng 50% giá trị đơn hàng. | Positive |
| | **TC_PAY_03** | Giao dịch VNPAY thành công | Người dùng hoàn tất thanh toán trên VNPAY. | 1. Thanh toán thành công tại VNPAY. 2. VNPAY gọi về IPN URL. | Hệ thống cập nhật trạng thái đơn hàng thành "Đã thanh toán" (hoặc "Đã cọc"). | Positive |
| | **TC_PAY_04** | Giao dịch VNPAY thất bại | Người dùng hủy giao dịch hoặc giao dịch lỗi. | 1. Hủy giao dịch tại VNPAY. 2. VNPAY gọi về IPN URL. | Hệ thống không thay đổi trạng thái đơn hàng (vẫn là "Chờ thanh toán"). | Negative |
| **5. Tích hợp Giao hàng** | **TC_SHIP_01** | Tạo đơn hàng vận chuyển GHTK | Đơn hàng mới được xác nhận. | 1. Người dùng đặt hàng thành công. | Hệ thống tự động gọi API Giao Hàng Tiết Kiệm để tạo đơn hàng vận chuyển. | Positive |
| | **TC_SHIP_02** | Lấy phí ship từ GHTK | Người dùng nhập địa chỉ giao hàng. | 1. Tại trang thanh toán, nhập địa chỉ. | Hệ thống hiển thị phí ship dự kiến được lấy từ API GHTK. | Positive |
| **6. Gửi Email**| **TC_EMAIL_01** | Gửi email thông báo sản phẩm mới | Admin thêm sản phẩm mới và chọn đăng lên bảng tin. | 1. Admin tạo sản phẩm mới. 2. Lưu và đăng sản phẩm. | Hệ thống gửi email đến các người dùng đã đăng ký nhận tin với thông tin sản phẩm mới. | Positive |
